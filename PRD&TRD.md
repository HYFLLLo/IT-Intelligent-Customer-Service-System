

# 企业级IT智能客服系统：PRD & TRD（单一真实来源文档）

## 📌 文档说明
本文件作为项目**唯一权威需求来源**，整合产品需求（PRD）与技术方案（TRD），确保业务目标与技术实现对齐。所有开发、测试、验收均以此文档为基准。

---

## 一、项目核心定位（PRD）

### 1.1 项目愿景
构建**AI深度赋能的IT服务中枢**，实现“员工自助解决80%常见问题 + 坐席效率提升50% + 服务质量可量化”的三位一体目标，打造可复用的企业级智能客服范式。

### 1.2 核心价值主张
| 维度 | 价值点 | 量化目标 |
|------|--------|----------|
| **员工体验** | 7×24小时秒级响应，减少等待焦虑 | 常见问题解决率≥85% |
| **坐席提效** | AI辅助生成回复/提取字段，减少重复劳动 | 单工单处理时长↓40% |
| **质检能力** | 全流程数据留痕，质检自动化 | 人工质检工作量↓70% |
| **知识沉淀** | 问答数据反哺知识库，持续进化 | 知识库月度更新率≥15% |

### 1.3 用户角色与核心场景
| 角色 | 核心诉求 | 关键场景 |
|------|----------|----------|
| **员工（终端用户）** | 快速解决IT问题，透明跟踪进度 | 重置密码/软件安装/网络故障等自助问答；复杂问题一键转工单 |
| **坐席（客服人员）** | 高效处理工单，减少机械操作 | 查看AI建议回复→微调发送；系统自动填充设备型号/系统版本等字段 |

### 1.4 功能范围界定
✅ **本期已实现**  
- **员工端**：智能问答（RAG）、工单提交/跟踪、历史会话记录
- **坐席端**：工单看板（仪表盘）、AI回复建议、字段自动提取、质检报告查看
- **核心AI能力**：知识检索+生成（RAG）、工单字段提取、回复内容质检评分

❌ **本期未实现（V2.0规划）**  
- 管理端：知识库管理（文档上传/分类）、坐席权限配置、质检规则设置、数据看板
- 语音/视频交互、多语言支持、与AD域/ServiceNow深度集成、情感实时预警  

---

## 二、技术方案全景（TRD）

### 2.1 系统架构图（文字描述）
```
┌─────────────┐     ┌───────────────────────────────────────────────────────┐
│   前端层     │     │                   后端服务层                          │
│             │     │                                                       │
│ • 员工端     │────▶│ • API网关（认证/限流）                                │
│ • 坐席端     │────▶│ • 智能问答服务（RAG引擎）                             │
│ (Vue3+TS)   │     │ • 工单工作流引擎                                      │
│             │     │ • AI能力中心（字段提取/质检）                         │
└─────────────┘     └───────────────────────────────────────────────────────┘
                              │               │                │
                              ▼               ▼                ▼
                    ┌─────────────┐   ┌──────────────┐  ┌──────────────┐
                    │  SQLite     │   │ 向量数据库    │  │ DeepSeek API │
                    │ (业务数据)   │   │ (Chroma)     │  │ (大模型服务)  │
                    └─────────────┘   └──────────────┘  └──────────────┘
```

### 2.2 核心模块设计
| 模块 | 职责 | 关键技术点 |
|------|------|------------|
| **RAG问答引擎** | 实现“检索+生成”闭环 | 1. 文档分块策略（按IT问题类型）2. 混合检索（向量+关键词）3. Prompt模板：`[系统角色]+[检索片段]+[用户问题]` |
| **工单智能处理** | 自动化字段提取与建议 | 1. 字段提取：调用DeepSeek Function Calling，输出JSON（问题类型/设备/紧急度）2. 回复建议：基于历史优质工单+知识库生成 |
| **自动质检模块** | 量化服务质量 | 1. 规则引擎：关键词覆盖度、禁用词检测2. AI评分：调用DeepSeek分析“解决方案完整性/语气友好度”，输出1-5分+改进建议 |
| **知识库管理** | 支撑RAG效果 | 1. 支持PDF/Word解析（使用unstructured库）2. 人工审核流程：新文档需管理员标记“生效”后才纳入检索 |

### 2.3 关键数据流
**员工提问→AI回答流程**  
`前端提问 → 网关认证 → RAG引擎：①向量检索Top3知识片段 ②构造Prompt调用DeepSeek → 返回带置信度答案 → 前端展示（置信度<0.7时提示“转人工”）`

**工单创建→坐席处理流程**  
`员工提交工单 → 工作流引擎：①AI提取字段填充表单 ②自动分配坐席 → 坐席端：显示AI建议回复+知识片段 → 坐席发送回复 → 质检模块异步评分`

### 2.4 技术栈决策依据
| 层级 | 选型 | 选择理由 |
|------|------|----------|
| **前端** | Vue3 + TypeScript + Element Plus + Pinia | 组合式API提升可维护性；TS保障大型项目类型安全；Element Plus提供企业级组件；Pinia状态管理轻量高效 |
| **后端** | FastAPI + SQLAlchemy + SQLite | FastAPI异步高性能+自动生成OpenAPI文档；SQLAlchemy ORM提升开发效率；SQLite轻量便捷，适合初期部署和开发 |
| **AI层** | DeepSeek API + Chroma | DeepSeek中文理解强、成本可控；Chroma轻量易部署，适合初期知识库规模（<10万文档） |

### 2.5 非功能性需求（NFR）
| 类别 | 要求 | 验收标准 |
|------|------|----------|
| **性能** | 高并发响应 | 问答接口P95延迟<2.5s；支持200+坐席同时在线 |
| **安全** | 数据合规 | 敏感信息脱敏存储；API调用全链路HTTPS；坐席仅可见分配工单 |
| **可观测** | 运维友好 | 关键操作日志留存≥180天；Prometheus监控API成功率/延迟 |
| **可维护** | 迭代友好 | 模块解耦，支持单独升级AI服务；配置化质检规则 |

---

## 三、成功度量标准（验收基准）

| 维度 | 指标 | 目标值 | 测量方式 |
|------|------|--------|----------|
| **业务效果** | 常见问题自助解决率 | ≥85% | (AI直接解决工单数 / 总咨询量)×100% |
| **坐席效率** | 平均单工单处理时长 | ↓40% | 对比上线前后坐席处理同类工单耗时 |
| **服务质量** | 工单一次解决率 | ≥90% | (首次回复即关闭的工单数 / 总工单数)×100% |
| **系统健康** | 服务可用性 | ≥99.5% | 月度监控统计（排除计划维护） |

---

## 四、实施路线图（关键里程碑）

| 阶段 | 周期 | 交付物 | 验收重点 |
|------|------|--------|----------|
| **Phase 1** | 3周 | MVP系统（基础问答+工单流转） | RAG问答准确率≥80%；工单状态流转正确 |
| **Phase 2** | 2周 | AI增强（字段提取+回复建议） | 字段提取准确率≥85%；坐席采纳建议率≥60% |
| **Phase 3** | 1周 | 质检与优化 | 质检评分与人工评分一致性≥80%；知识库更新流程跑通 |
| **Phase 4** | 持续 | 数据驱动迭代 | 基于“高频未解决问题”月度优化知识库 |

---

## ✅ 文档权威性声明
1. 本文件为项目**唯一需求基准**，任何需求变更需经三方（产品/技术/业务方）签字更新  
2. 开发过程中所有设计、测试用例、验收标准均需溯源至本文档章节  
3. 版本管理：V1.0（当前）｜下次更新：需求变更评审后  

> **下一步行动**：基于本文档启动详细设计（数据库ER图、API接口定义、UI原型），进入Phase 1开发。  
> **注**：本文档聚焦“做什么”与“怎么做”的框架共识，具体代码实现将严格遵循此方案分阶段产出。